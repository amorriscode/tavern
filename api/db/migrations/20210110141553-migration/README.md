# Migration `20210110141553-migration`

This migration has been generated by Anthony Morris at 1/10/2021, 6:15:53 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "AssignedProblem" ADD COLUMN     "solved" BOOLEAN NOT NULL DEFAULT false

ALTER TABLE "Transaction" ADD COLUMN     "problemId" INTEGER NOT NULL

ALTER TABLE "Transaction" ADD FOREIGN KEY("problemId")REFERENCES "Problem"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210110135143-migration..20210110141553-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,9 +1,9 @@
 datasource DS {
   // optionally set multiple providers
   // example: provider = ["sqlite", "postgresql"]
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -53,8 +53,9 @@
   checksum         String?
   entrypoints      Json?
   assignedProblems AssignedProblem[]
   solution         Solution[]
+  transaction      Transaction[]
 }
 model Solution {
   id            String    @id @default(uuid())
@@ -86,8 +87,9 @@
   problemId Int
   guild     Guild?   @relation(fields: [guildId], references: [id])
   guildId   String?
   createdAt DateTime @default(now())
+  solved    Boolean  @default(false)
 }
 // experience transactions
 model Transaction {
@@ -99,8 +101,10 @@
   guildExperience Int // total guild experience after delta
   time            DateTime @default(now())
   user            User?    @relation(fields: [userId], references: [id])
   userId          String?
+  problem         Problem  @relation(fields: [problemId], references: [id])
+  problemId       Int
 }
 model User {
   id          String        @id @default(uuid())
```


